## 思考题

#### A：给定一个最多包含40亿的个随机排列的32位整数的顺序文件，找出一个不在文件中的32位整数（文件中至少缺失一个这样的数——为什么？）。在具有足够内存的情况下，如何解决该问题？如果有几个外部的“临时”文件可用，但是仅有几百字节的内存，又该如何解决？



#### B：将一个`n`元一维向量向左旋转（循环移位）`i`个位置。例如，当`n=8`且`i=3`时，向量`abcdefgh`旋转为`defghabc`。简单的代码使用一个`n`元的中间向量在`n`步内完成该工作。你能否仅使用数十个额外字节的存储空间，在正比于n的时间内完成向量的旋转。

一：移动`x[0]`到临时变量`t`，然后移动`x[i]`至`x[0]`，`x[2i]`至`x[i]`，依此推类（将x中的所有下标对n取模），直至返回到取`x[0]`中的元素，此时改为从`t`取值然后终止过程。当`i=3`且`n=12`时，元素按如下顺序移动。

// todo 添加步骤图

二：我们将问题看做是把数组`ab`转换成`ba`，同时假定我们拥有一个函数可以将数组中特定部分的元素求逆。从`ab`开始，首先对`a`求逆，得到`a^(r)b`，然后对`b`求逆，的到`a^(r)b^(r)`。最后整体求逆，得到`(a^(r)b^r)^(r)`。此时就恰好是`ba`。于是我们得到如下用户旋转的代码，其中注释部分表示`abcdefgh`向左旋转三个位置以后的结果。

```java\
reverse(0, i - 1);	/* cbadefgh */
reverse(i, n - 1);	/* cbahgfed */
reverse(0, n - 1);	/* defghabc */
```

代码详情[点击跳转](./src/question/QB.java)



#### C：给定一个英语字典，找出其中的所有变位词集合。例如：“pots”、“stop”和“tops”互为变位词，因此每一个单词都可以通过改变其他单词中字母的顺序来得到。

一：将单词排序，得到这个单词的标识符，将所有标识符一样的单词收集在一起即可。示例中使用了`Map<String, List<String>>`来表示，key代表标识符，value为单词的集合。例如：单词bca的标识符为abc，单词cba的标识符也为abc，那这个标识符下的两个单词bca和cba就是变位词。

代码详情[点击跳转](./src/question/QC.java)



## 习题：

#### 1. 考虑查找给定输入单词的所有变位词问题。仅给定单词和字典的情况下，如何解决该问题？如果有一些时间和空间可以在响应任何查询之前预先处理字典，又会如何？



#### 2. 给定包含43_0000_0000个32位整数的顺序文件，如何找出一个出现至少两次的整数。

注：我个人觉得43亿刚好是`int`类型的上界和下届之差，`int`刚好就是4字节32位的整数。





#### 3. 前面涉及了两个需要精巧代码来实现的向量旋转算法。将其分别作为独立的程序实现。在每个程序中，i和n的最大公约数如何出现？